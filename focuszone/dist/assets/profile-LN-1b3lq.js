import{j as e,f as v,a6 as C,c as o,r as a,a7 as F,u as b}from"./vendor-react-BUtKQChS.js";import{L as k,A as d,d as h,h as u,i as m,j as f,k as y,u as c,a as P,C as j,b as p,g,f as w}from"./cafelist-y6Oea1Uc.js";import{a as _}from"./vendor-axios-xsH4HHeE.js";import{F as z}from"./home-DHUOjc87.js";const $=({theme:s,content:t,size:n})=>e.jsxs("a",{href:"mailto:"+t,className:"flex items-center gap-2",target:"_blank",children:[e.jsx(v,{size:n,className:`${s=="dark"?"text-zinc-900":"text-white "} mt-1`}),e.jsx("span",{className:`${s=="dark"?"text-zinc-900":"text-white "} text-[${n}px]`,children:t})]}),A=({theme:s,content:t,size:n})=>e.jsxs("a",{href:"tel:"+(t==null?void 0:t.replace(/\s+/g,"")),className:"flex items-center gap-2",target:"_blank",children:[e.jsx(C,{size:n,className:`mt-1 ${s=="dark"?"text-zinc-900":"text-white "}`}),e.jsx("span",{className:`${s=="dark"?"text-zinc-900":"text-white "} text-[${n}px]`,children:t})]});function D({email:s,adress:t,description:n,phone:r}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-full w-full flex flex-col justify-between",children:[e.jsx("h4",{children:"Контактная информация"}),e.jsx($,{size:28,theme:"dark",content:s}),e.jsx(k,{size:28,theme:"dark",content:t}),e.jsx(A,{size:28,theme:"dark",content:r})]}),e.jsxs("div",{className:"w-full flex flex-col gap-4",children:[e.jsx("h3",{children:"Информация обо мне"}),n]})]})}function E({name:s,surname:t,login:n}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center w-full h-[100px] gap-2",children:[e.jsx(d,{size:"w-[100px] h-[100px]",url:"user"}),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("h4",{children:s+" "+t}),e.jsx("h4",{children:n})]})]})})}const x=o(s=>({achievements:[],setAchievements:t=>{s({achievements:t})}})),L=({url:s,title:t,description:n})=>e.jsx(e.Fragment,{children:e.jsx(h,{children:e.jsxs(u,{className:"flex w-full h-full ",children:[e.jsx(m,{className:"w-full text-center text-[18px] font-bold",children:t}),e.jsx(f,{className:"w-full h-full",children:e.jsx("img",{src:s,alt:"#",className:"object-cover object-center"})}),e.jsx(y,{className:"text-center",children:n})]})})}),T=()=>{const s=c(l=>l.users),t=x(l=>l.setAchievements),n=x(l=>l.achievements);if(!s)return null;const{data:r}=P({url:`http://localhost:4000/achievement/get_achievement_user_id/${s[0].id}`,method:"get",queryKey:`achievement_${s[0].id}`});return a.useEffect(()=>{r&&t(r)}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col gap-4",children:[e.jsx("h3",{children:"Достижения и медали"}),e.jsxs(j,{className:"w-full h-full flex flex-col",children:[e.jsx(p,{className:"flex w-[400px] h-[500px]",children:n.map((l,N)=>e.jsx(L,{url:l.url,title:l.title,description:l.description},N))}),e.jsx(g,{}),e.jsx(w,{})]})]})})},i=o(s=>({discounts:[],setDiscounts:t=>{s({discounts:[...t]})}})),M=()=>{const s=i(t=>t.discounts);return console.log(s),e.jsx(e.Fragment,{children:e.jsxs(j,{className:"w-full h-full flex flex-col",children:[e.jsx(p,{className:"flex w-[800px] h-[300px]",children:s==null?void 0:s.map((t,n)=>e.jsx(h,{children:e.jsxs(u,{className:"flex w-full h-full",children:[e.jsx(m,{className:"text-[18px] font-bold",children:t.title}),e.jsx(f,{children:e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx(F,{style:{height:"auto",maxWidth:"25%",width:"25%"},value:t.url,viewBox:"0 0 256 256"}),e.jsxs("div",{className:"w-1/2 flex items-center gap-2",children:[e.jsx("p",{className:"text-[18px] text-zinc-900",children:t.description}),e.jsx(d,{size:"w-[100px] h-[100px]",url:t.url})]})]})})]})},t.id||n))}),e.jsx(g,{}),e.jsx(w,{})]})})},O=()=>{const s=c(l=>l.users),t=i(l=>l.setDiscounts),n=i(l=>l.discounts),{mutate:r}=b({mutationFn:async()=>{try{if(s){const l=await _.get(`http://localhost:4000/discounts/get_discount_user_id/${s[0].id}`);t(l.data)}}catch(l){throw l}}});return a.useEffect(()=>{r()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col gap-4",children:[e.jsx("h3",{children:"Скидки на покупку"}),n?e.jsx(e.Fragment,{children:e.jsx(M,{})}):e.jsx(e.Fragment,{children:e.jsx("p",{children:"У вас пока нет скидочных купонов"})})]})})};function R(){const{users:s,isError:t,isPending:n}=c(),[r,l]=a.useState(null);return a.useEffect(()=>{s&&s.length>0&&l(s[0])},[s]),n||t||(s==null?void 0:s.length)===0?null:e.jsx(e.Fragment,{children:r&&r!==null&&e.jsx("section",{className:"w-9/10 flex flex-col items-center justify-center my-10 bg-zinc-200 rounded-xl p-4",children:e.jsxs("div",{className:"w-9/10 flex flex-col items-center justify-center gap-8 my-[4%]",children:[e.jsx(E,{name:r.name,surname:r.surname,login:r.login}),e.jsx(D,{email:r.email,adress:r.adress,phone:r.phone,description:r.description}),e.jsx(T,{}),e.jsx(O,{})]})})})}function S(){const s=c(t=>t.users);return e.jsx(e.Fragment,{children:(s==null?void 0:s.length)!==0?e.jsx(R,{}):e.jsx(z,{})})}const G=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"}));export{$ as L,A as a,G as p};
