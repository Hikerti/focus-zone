import{j as e,ak as N,al as w,am as y,an as z,ao as C,ap as T,aq as k,ar as L,as as F,at as S,au as A,av as D,aw as I,ax as d,a2 as l,ay as P,az as B,aA as R,aB as U}from"./vendor-react-BUtKQChS.js";import{c as n,B as i,L as E,l as x,m as h,n as m,o as j,p as u,q as f,u as p,A as c}from"./cafelist-y6Oea1Uc.js";import{a as H,b as O,I as $}from"./home-DHUOjc87.js";import{L as g,a as v}from"./profile-LN-1b3lq.js";import{a as q}from"./vendor-axios-xsH4HHeE.js";import{I as G,T as M}from"./vendor-other-D3y6SXq5.js";import"./vendor-leaflet-B36_YpXq.js";import"./map-Kgjk-RpB.js";function b({delayDuration:t=0,...s}){return e.jsx(N,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function _({...t}){return e.jsx(b,{children:e.jsx(w,{"data-slot":"tooltip",...t})})}function X({...t}){return e.jsx(y,{"data-slot":"tooltip-trigger",...t})}function Z({className:t,sideOffset:s=0,children:a,...o}){return e.jsx(z,{children:e.jsxs(C,{"data-slot":"tooltip-content",sideOffset:s,className:n("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...o,children:[a,e.jsx(T,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function J(){const t=[{icon:e.jsx(k,{className:"!w-6 !h-6"}),label:"Главая страница",href:"/"},{icon:e.jsx(L,{size:20}),label:"Профиль",href:"/profile"},{icon:e.jsx(F,{size:20}),label:"Карта",href:"/map"},{icon:e.jsx(S,{size:20}),label:"Список кофе",href:"/cafelist"}];return e.jsx(e.Fragment,{children:e.jsx(b,{children:e.jsx("aside",{className:`h-[90vh] w-[4%] bg-zinc-900 text-white flex flex-col\r
        items-center pt-3 gap-4 absolute top-0 left-0 rounded-br-3xl shadow-lg shadow-zinc-700/50`,children:t.map((s,a)=>e.jsxs(_,{children:[e.jsx(X,{asChild:!0,children:e.jsx("div",{children:e.jsx("a",{href:s.href,children:e.jsx(i,{variant:"ghost",size:"icon",className:"hover:bg-zinc-100",children:s.icon})})})}),e.jsx(Z,{side:"right",children:s.label})]},a))})})})}function K({...t}){return e.jsx(A,{"data-slot":"sheet",...t})}function Q({...t}){return e.jsx(D,{"data-slot":"sheet-trigger",...t})}function V({...t}){return e.jsx(d,{"data-slot":"sheet-close",...t})}function W({...t}){return e.jsx(P,{"data-slot":"sheet-portal",...t})}function Y({className:t,...s}){return e.jsx(B,{"data-slot":"sheet-overlay",className:n("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function ee({className:t,children:s,side:a="right",...o}){return e.jsxs(W,{children:[e.jsx(Y,{}),e.jsxs(I,{"data-slot":"sheet-content",className:n("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",a==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",a==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",a==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",a==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...o,children:[s,e.jsxs(d,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(l,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function te({className:t,...s}){return e.jsx("div",{"data-slot":"sheet-header",className:n("flex flex-col gap-1.5 p-4",t),...s})}function se({className:t,...s}){return e.jsx("div",{"data-slot":"sheet-footer",className:n("mt-auto flex flex-col gap-2 p-4",t),...s})}const ae=({email:t,adress:s,phone:a})=>e.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[e.jsx("h3",{children:"Контактная информация"}),e.jsx(g,{size:16,theme:"dark",content:t}),e.jsx(E,{size:16,theme:"dark",content:s}),e.jsx(v,{size:16,theme:"dark",content:a})]}),re=()=>e.jsx("div",{children:e.jsxs(x,{children:[e.jsx(h,{asChild:!0,children:e.jsx(i,{variant:"secondary",children:"Войти"})}),e.jsxs(m,{children:[e.jsx("div",{children:e.jsx(j,{children:e.jsx(l,{})})}),e.jsx(u,{children:"Войти"}),e.jsx(f,{children:"Пожалуйста, заполните форму входа ниже."}),e.jsx(H,{})]})]})}),oe=()=>e.jsxs(x,{children:[e.jsx(h,{asChild:!0,children:e.jsx(i,{variant:"secondary",children:"Зарегистрироваться"})}),e.jsxs(m,{children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(j,{children:e.jsx(l,{})})}),e.jsx(u,{children:"Зарегистрироваться"}),e.jsx(f,{children:"Пожалуйста, заполните форму регистрации ниже."}),e.jsx(O,{})]})]}),ne=()=>{const t=p(a=>a.setLogin);return async()=>{try{t(!1),await q.post("http://localhost:4000/auth/logout",null,{withCredentials:!0}),window.location.reload()}catch(a){throw new Error("Пользователь не смог выйти: "+a)}}},ie=()=>{const{users:t,isError:s,isPending:a}=p(),o=ne();if(!t||t.length===0)return e.jsxs("div",{className:"flex gap-4",children:[e.jsx(re,{}),e.jsx(oe,{})]});const r=t[0];return e.jsx(e.Fragment,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{asChild:!0,children:e.jsxs("div",{className:"flex h-full justify-center items-center cursor-pointer gap-4",children:[e.jsx(c,{size:"w-[32px] h-[32px]",url:r.name}),e.jsxs("div",{className:"flex flex-col ",children:[e.jsx("p",{className:"text-white !text-[12px]",children:r.name+" "+r.surname}),e.jsxs("p",{className:"text-white !text-[12px]",children:["@",r.login]})]})]})}),e.jsxs(ee,{children:[e.jsxs(te,{children:[e.jsxs("div",{className:"flex h-full flex-col justify-center gap-2",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(c,{size:"w-[100px] h-[100px]",url:r.name}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-zinc-900",children:r.name+" "+r.surname}),e.jsxs("h4",{className:"text-zinc-900",children:["@",r.login]})]})]}),e.jsx("div",{className:"flex flex-col",children:e.jsx(ae,{email:r.email,adress:r.adress,phone:r.phone})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl mt-4",children:"О себе"}),e.jsx("p",{children:r.description})]})]}),e.jsxs(se,{children:[e.jsx(V,{asChild:!0}),e.jsx(i,{onClick:()=>o(),children:"Выйти из аккаунта"})]})]})]})})},le=()=>e.jsx(K,{children:e.jsx(ie,{})});function ce(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute top-0 right-0 py-2 w-[96%] ms-[4%] px-4 flex justify-between items-center bg-zinc-900",children:[e.jsxs("div",{className:"relative w-4/10",children:[e.jsx(R,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-white",size:20}),e.jsx($,{type:"text",placeholder:"Поиск",className:"pl-10 text-white "})]}),e.jsx(le,{})]})})}function de(){return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"absolute inset-0 z-10",children:[e.jsx(J,{}),e.jsx(ce,{})]})})}const xe=()=>e.jsx("footer",{className:"flex items-center justify-center w-[100vw] ms-[-5%] h-[60px] bg-zinc-900",children:e.jsxs("div",{className:"w-9/10 flex items-center justify-between",children:[e.jsx("p",{className:"text-white",children:"company: Focus Zone"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(g,{content:"admin2@mail.ru",theme:"light"}),e.jsx(v,{content:"+7 999 233 99 23",theme:"light"})]})]})}),he=({...t})=>{const{theme:s="system"}=G();return e.jsx(M,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},Ne=()=>e.jsxs(e.Fragment,{children:[e.jsx(de,{}),e.jsx("main",{className:"w-[100%] relative z-20 flex flex-col items-center",children:e.jsx(U,{})}),e.jsx(he,{}),e.jsx(xe,{})]});export{Ne as default};
