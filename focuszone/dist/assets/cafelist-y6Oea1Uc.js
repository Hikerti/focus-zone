import{c as M,j as e,S as Y,R as Z,T as ee,C as te,a as ae,b as se,A as re,P as ne,O as le,D as oe,d as ie,I as ce,F as de,M as ue,u as I,r as c,e as xe,f as fe,g as ge,h as me,i as he,k as pe,L as S,l as je,H as ve,m as A,n as be,o as Ne,p as we,q as ye,s as Ce,V as De,t as ke,v as ze,w as Pe,G as Se,x as _e,y as Be,z as Ae,B as Fe,E as Le,J as $e,K as Ee}from"./vendor-react-BUtKQChS.js";import{t as Me,c as Ie,a as Te,b as $}from"./vendor-other-D3y6SXq5.js";import{a as y}from"./vendor-axios-xsH4HHeE.js";import{u as E}from"./map-Kgjk-RpB.js";const Re=M(t=>({users:[],login:!1,isError:!1,isPending:!1,setUser(a){t({users:[a]})},clearUser:()=>{t({users:[]})},setLogin:a=>{t({login:a}),localStorage.setItem("login",JSON.stringify(a)),console.log(a)}}));function l(...t){return Me(Ie(t))}const C=Te("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function b({className:t,variant:a,size:s,asChild:n=!1,...r}){const i=n?Y:"button";return e.jsx(i,{"data-slot":"button",className:l(C({variant:a,size:s,className:t})),...r})}function qe({className:t,...a}){return e.jsx("textarea",{"data-slot":"textarea",className:l("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}function Ue({...t}){return e.jsx(Z,{"data-slot":"alert-dialog",...t})}function Ke({...t}){return e.jsx(ee,{"data-slot":"alert-dialog-trigger",...t})}function Ge({...t}){return e.jsx(ne,{"data-slot":"alert-dialog-portal",...t})}function Oe({className:t,...a}){return e.jsx(le,{"data-slot":"alert-dialog-overlay",className:l("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function Ve({className:t,...a}){return e.jsxs(Ge,{children:[e.jsx(Oe,{}),e.jsx(te,{"data-slot":"alert-dialog-content",className:l("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function He({className:t,...a}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:l("flex flex-col gap-2 text-center sm:text-left",t),...a})}function Je({className:t,...a}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:l("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function Qe({className:t,...a}){return e.jsx(ae,{"data-slot":"alert-dialog-title",className:l("text-lg font-semibold",t),...a})}function _t({className:t,...a}){return e.jsx(oe,{"data-slot":"alert-dialog-description",className:l("text-muted-foreground text-sm",t),...a})}function Xe({className:t,...a}){return e.jsx(re,{className:l(C(),t),...a})}function We({className:t,...a}){return e.jsx(se,{className:l(C({variant:"outline"}),t),...a})}function T({className:t,...a}){return e.jsx("div",{"data-slot":"card",className:l("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function R({className:t,...a}){return e.jsx("div",{"data-slot":"card-header",className:l("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function Ye({className:t,...a}){return e.jsx("div",{"data-slot":"card-title",className:l("leading-none font-semibold",t),...a})}function q({className:t,...a}){return e.jsx("div",{"data-slot":"card-content",className:l("px-6",t),...a})}function Ze({className:t,...a}){return e.jsx("div",{"data-slot":"card-footer",className:l("flex items-center px-6 [.border-t]:pt-6",t),...a})}function U({className:t,...a}){return e.jsx(ie,{"data-slot":"avatar",className:l("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function K({className:t,...a}){return e.jsx(ce,{"data-slot":"avatar-image",className:l("aspect-square size-full",t),...a})}function G({className:t,...a}){return e.jsx(de,{"data-slot":"avatar-fallback",className:l("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}const et=({theme:t,content:a,size:s})=>e.jsxs("a",{href:"https://www.google.ru/maps/place/%D1%83%D0%BB.+%D0%94%D0%B5%D0%BA%D0%B0%D0%B1%D1%80%D0%B8%D1%81%D1%82%D0%BE%D0%B2,+38,+%D0%A7%D0%B0%D0%B9%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9,+%D0%9F%D0%B5%D1%80%D0%BC%D1%81%D0%BA%D0%B8%D0%B9+%D0%BA%D1%80%D0%B0%D0%B9,+617766/@56.7409582,54.1487924,17z/data=!3m1!4b1!4m6!3m5!1s0x43e72be81889c8ab:0xcf94f0c6f7b1e61d!8m2!3d56.7409553!4d54.1513673!16s%2Fg%2F11lmqt_m3v?entry=ttu&g_ep=EgoyMDI1MDQyOS4wIKXMDSoJLDEwMjExNDU1SAFQAw%3D%3D",className:"flex items-center gap-2",target:"_blank",children:[e.jsx(ue,{size:s,className:"mt-1"}),e.jsx("span",{className:`${t=="dark"?"text-zinc-900":"text-white "}text-zinc-900 text-[${s}px]`,children:a})]}),tt=()=>I({mutationFn:async({id:t,favourites:a})=>(await y.put(`http://localhost:4000/cafe/update/${t}`,{favourites:a})).data}),at=({cafeId:t})=>{const[a,s]=c.useState(),n=Re(d=>d.users),{mutate:r}=I({mutationFn:async()=>{if(!n||!n.length)throw new Error("User must have a user object");return await y.post("http://localhost:4000/message/create_messages",{userId:n[0].id,cafeId:t,content:a})},onSuccess:()=>{console.log("Message sent!")},onError:d=>{console.error("Error sending message:",d)}}),i=()=>{r()};return e.jsx(e.Fragment,{children:e.jsxs(Ve,{className:"flex flex-col justify-center",children:[e.jsxs(He,{className:"w-[460px]",children:[e.jsx(Qe,{children:"Введите свой отзыв"}),e.jsx(qe,{className:"max-w-full",maxLength:300,onChange:d=>s(d.target.value)})]}),e.jsxs(Je,{children:[e.jsx(We,{children:"Выйти"}),e.jsx(Xe,{onClick:i,children:"Отправить"})]})]})})},F=({url:t,method:a="get",queryKey:s})=>{const{isPending:n,isError:r,data:i}=xe({queryKey:[s],queryFn:async()=>{if(a=="get")return(await y.get(t)).data}});return{data:i,isPending:n,isError:r}};function st({size:t,url:a}){return e.jsx(e.Fragment,{children:a&&e.jsx(e.Fragment,{children:e.jsxs(U,{className:t,children:[e.jsx(K,{src:a,alt:"User avatar"}),e.jsx(G,{children:"CN"})]})})})}const rt=({message:t})=>{var s,n,r;const a=F({url:`http://localhost:4000/user/get_user/${t.userId}`,method:"get",queryKey:`user_message_${t.userId}`});return e.jsx(e.Fragment,{children:e.jsxs(T,{className:"w-full",children:[e.jsxs(R,{className:"flex items-center",children:[e.jsx(st,{}),e.jsxs("div",{children:[e.jsx("h5",{children:((s=a.data)==null?void 0:s.name)+" "+((n=a.data)==null?void 0:n.surname)}),e.jsx("h5",{children:"@"+((r=a.data)==null?void 0:r.login)})]})]}),e.jsx(q,{children:e.jsx("div",{children:t.content})}),e.jsx(Ze,{})]})})},nt=({messages:t,rotute:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:`flex flex-col items-center transition-all ${a?"h-auto":"h-0 hidden"} gap-4 w-full h-full`,children:[t==null?void 0:t.map(s=>e.jsx(rt,{message:s},s.id)),(t==null?void 0:t.length)==0&&e.jsx("h3",{className:"text-zinc-900",children:"Комментариев нет"})]})}),lt=t=>e.jsx(e.Fragment,{children:e.jsx(b,{size:"icon",className:"border-zinc-900 bg-transparent border-2 hover:bg-white cursor-pointer  group",...t,children:e.jsx(fe,{className:"text-zinc-900 transition bg-white"})})}),g=M((t,a)=>({cards:[],totalPage:0,page:1,limit:5,filter:"none",setCards:s=>t({cards:s}),setTotalPage:s=>t({totalPage:s}),setLimit:s=>t({limit:s}),setFilter:s=>t({filter:s}),setPage:s=>t({page:s}),getLengthCards:async s=>{try{return(await y.post("http://localhost:4000/cafe/cards_length",s)).data}catch(n){console.error("Error in getLengthCards: "+n)}},calcPaginationPage:async s=>{const n=await a().getLengthCards(s);if(n!==void 0){const r=Math.ceil(n/a().limit);a().setTotalPage(r)}},deleteAllCards:()=>t({cards:[]})})),O=c.createContext(null);function D(){const t=c.useContext(O);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function ot({orientation:t="horizontal",opts:a,setApi:s,plugins:n,className:r,children:i,...d}){const[m,o]=ge({...a,axis:t==="horizontal"?"x":"y"},n),[p,u]=c.useState(!1),[k,N]=c.useState(!1),x=c.useCallback(f=>{f&&(u(f.canScrollPrev()),N(f.canScrollNext()))},[]),j=c.useCallback(()=>{o==null||o.scrollPrev()},[o]),v=c.useCallback(()=>{o==null||o.scrollNext()},[o]),z=c.useCallback(f=>{f.key==="ArrowLeft"?(f.preventDefault(),j()):f.key==="ArrowRight"&&(f.preventDefault(),v())},[j,v]);return c.useEffect(()=>{!o||!s||s(o)},[o,s]),c.useEffect(()=>{if(o)return x(o),o.on("reInit",x),o.on("select",x),()=>{o==null||o.off("select",x)}},[o,x]),e.jsx(O.Provider,{value:{carouselRef:m,api:o,opts:a,orientation:t||((a==null?void 0:a.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:v,canScrollPrev:p,canScrollNext:k},children:e.jsx("div",{onKeyDownCapture:z,className:l("relative",r),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...d,children:i})})}function it({className:t,...a}){const{carouselRef:s,orientation:n}=D();return e.jsx("div",{ref:s,className:"overflow-hidden","data-slot":"carousel-content",children:e.jsx("div",{className:l("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...a})})}function _({className:t,...a}){const{orientation:s}=D();return e.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:l("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",t),...a})}function ct({className:t,variant:a="outline",size:s="icon",...n}){const{orientation:r,scrollPrev:i,canScrollPrev:d}=D();return e.jsxs(b,{"data-slot":"carousel-previous",variant:a,size:s,className:l("absolute size-8 rounded-full",r==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!d,onClick:i,...n,children:[e.jsx(me,{}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function dt({className:t,variant:a="outline",size:s="icon",...n}){const{orientation:r,scrollNext:i,canScrollNext:d}=D();return e.jsxs(b,{"data-slot":"carousel-next",variant:a,size:s,className:l("absolute size-8 rounded-full",r==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!d,onClick:i,...n,children:[e.jsx(he,{}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})}const ut=({id:t,style:a,title:s,adress:n,imageUrl:r,description:i,favourites:d,createdAt:m,rating:o,locationLat:p,locationLng:u,showArrow:k})=>{const N=pe(),[x,j]=c.useState(d),[v,z]=c.useState(!1),[f,V]=c.useState(!1),H=g(h=>h.setFilter),J=E(h=>h.setPoints),Q=E(h=>h.setTitlePlaces),{mutate:X}=tt();c.useEffect(()=>{X({id:t.toString(),favourites:x})},[x]);const P=F({url:`http://localhost:4000/message/get_cafe_messages/${t}`,method:"get",queryKey:`message ${t}`}),W=()=>{x||$("Like",{description:"Вы добавили место в избранные",action:{label:"Избранные",onClick:()=>{N("/cafelist"),H("favorites")}}}),j(!x)};return e.jsx("div",{className:`${a} flex flex-col items-center`,children:e.jsxs(T,{className:"w-full",children:[e.jsx(R,{children:e.jsxs(Ye,{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{to:`/cafelist/${t}`,className:"flex items-center gap-2 cursor-pointer",children:e.jsxs(U,{className:"w-10 h-10",children:[e.jsx(K,{src:"https://github.com/shadcn.png",alt:"@shadcn"}),e.jsx(G,{children:"U"})]})}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsx(S,{to:`/cafelist/${t}`,target:"_blank",className:"text-zinc-900",children:s}),e.jsx(et,{theme:"dark",content:n}),e.jsxs("p",{className:"text-zinc-900",children:["Дата: ",m==null?void 0:m.slice(2,10)]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(je,{}),e.jsx("p",{className:"text-zinc-900",children:o})]})]})}),e.jsxs(q,{className:"w-full h-full flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-[94%] h-[600px] flex items-center justify-center",children:e.jsxs(ot,{className:"w-full h-full flex flex-col",children:[e.jsxs(it,{className:"w-full h-[600px]",children:[e.jsx(_,{children:e.jsx(S,{to:`/cafelist/${t}`,target:"_blank",children:e.jsx("img",{className:"w-full h-full object-cover rounded-lg",src:r,alt:"img"})})}),e.jsx(_,{children:e.jsx("img",{className:"w-full h-full object-cover rounded-lg",src:r,alt:"img"})}),e.jsx(_,{children:e.jsx("img",{className:"w-full h-full object-cover rounded-lg",src:r,alt:"img"})})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx(ct,{}),e.jsx(dt,{})]})]})}),e.jsxs("div",{className:"w-full flex gap-2 justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{className:"cursor-pointer",onClick:()=>$("Success",{description:`${i}`,action:{label:"Карта",onClick:()=>{N("/map");const h={lat:Number(p),lng:Number(u)};Q(s),J(h)}}}),children:"Поставить метку"}),e.jsx(b,{size:"icon",className:`${x?"border-red-500":"border-zinc-900"} bg-transparent border-2 hover:bg-white cursor-pointer group`,onClick:()=>W(),children:e.jsx(ve,{className:`${x?"text-red-500":"text-zinc-900"} transition bg-white`})}),e.jsxs(Ue,{children:[e.jsx(Ke,{asChild:!0,children:e.jsx(lt,{onClick:()=>z(!v)})}),e.jsx(at,{cafeId:t})]})]}),e.jsx(A,{onClick:()=>V(!f),className:`cursor-pointer transition-transform ${f?"rotate-0":"rotate-180"}`})]}),e.jsx(nt,{messages:P==null?void 0:P.data,rotute:f})]})]})})};function xt({className:t,...a}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:l("mx-auto flex w-full justify-center",t),...a})}function ft({className:t,...a}){return e.jsx("ul",{"data-slot":"pagination-content",className:l("flex flex-row items-center gap-1",t),...a})}function B({...t}){return e.jsx("li",{"data-slot":"pagination-item",...t})}function L({className:t,isActive:a,size:s="icon",...n}){return e.jsx("a",{"aria-current":a?"page":void 0,"data-slot":"pagination-link","data-active":a,className:l(C({variant:a?"outline":"ghost",size:s}),t),...n})}function gt({className:t,...a}){return e.jsxs(L,{"aria-label":"Go to previous page",size:"default",className:l("gap-1 px-2.5 sm:pl-2.5",t),...a,children:[e.jsx(be,{}),e.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function mt({className:t,...a}){return e.jsxs(L,{"aria-label":"Go to next page",size:"default",className:l("gap-1 px-2.5 sm:pr-2.5",t),...a,children:[e.jsx("span",{className:"hidden sm:block",children:"Next"}),e.jsx(Ne,{})]})}const ht=()=>{const t=g(r=>r.page),a=g(r=>r.setPage),s=g(r=>r.totalPage),n=g(r=>r.cards);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col justify-center pt-4 items-center w-full gap-4",children:[n==null?void 0:n.map(r=>e.jsx(ut,{id:r.id,style:"w-full",title:r.title,adress:r.address,imageUrl:r.imageUrl,description:r.description,favourites:r.favourites,createdAt:r.createdAt,rating:r.rating,locationLat:r.locationLat,locationLng:r.locationLng,showArrow:!0},r.id)),s>5&&e.jsx(xt,{children:e.jsxs(ft,{children:[e.jsx(B,{onClick:()=>t>1&&a(t-1),className:t===1?"pointer-events-none opacity-50":"",children:e.jsx(gt,{href:"#"})}),Array.from({length:s},(r,i)=>e.jsx(B,{onClick:()=>a(i+1),children:e.jsx(L,{href:"#",children:i+1})},i+1)),e.jsx(B,{onClick:()=>t<s&&a(t+1),className:t===s?"pointer-events-none opacity-50":"",children:e.jsx(mt,{href:"#"})})]})})]})})};function pt({...t}){return e.jsx(we,{"data-slot":"select",...t})}function jt({...t}){return e.jsx(Se,{"data-slot":"select-group",...t})}function vt({...t}){return e.jsx(De,{"data-slot":"select-value",...t})}function bt({className:t,size:a="default",children:s,...n}){return e.jsxs(ye,{"data-slot":"select-trigger","data-size":a,className:l("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[s,e.jsx(Ce,{asChild:!0,children:e.jsx(A,{className:"size-4 opacity-50"})})]})}function Nt({className:t,children:a,position:s="popper",...n}){return e.jsx(ke,{children:e.jsxs(ze,{"data-slot":"select-content",className:l("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[e.jsx(wt,{}),e.jsx(Pe,{className:l("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),e.jsx(yt,{})]})})}function w({className:t,children:a,...s}){return e.jsxs(_e,{"data-slot":"select-item",className:l("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Be,{children:e.jsx(Ae,{className:"size-4"})})}),e.jsx(Fe,{children:a})]})}function wt({className:t,...a}){return e.jsx(Le,{"data-slot":"select-scroll-up-button",className:l("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx($e,{className:"size-4"})})}function yt({className:t,...a}){return e.jsx(Ee,{"data-slot":"select-scroll-down-button",className:l("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(A,{className:"size-4"})})}const Ct=({filterProps:t})=>{const[a,s]=c.useState(t),n=g(u=>u.setCards),r=g(u=>u.calcPaginationPage),i=g(u=>u.limit),d=g(u=>u.page),{data:m,isPending:o,isError:p}=F({url:`http://localhost:4000/cafe/card_filter/${a}/${d}/${i}`,method:"get",queryKey:`cafe_card_${a}_${d}_${i}`});return c.useEffect(()=>{m&&(n(m),(a=="none"||a=="date")&&r({}),a=="favorites"&&r({favourites:!0}))},[m,o,p,n,a]),e.jsx("div",{className:"flex w-full",children:e.jsxs(pt,{onValueChange:u=>s(u),children:[e.jsx(bt,{className:"w-[300px]",children:e.jsx(vt,{placeholder:"Выберете фильтр"})}),e.jsx(Nt,{children:e.jsxs(jt,{children:[e.jsx(w,{value:"none",children:"Без фильтра"}),e.jsx(w,{value:"favorites",children:"Избранные"}),e.jsx(w,{value:"date",children:"По дате"}),e.jsx(w,{value:"estimation",children:"По оценке"})]})})]})})},Dt=()=>{const t=g(a=>a.filter);return e.jsxs("section",{className:"flex w-9/10 flex-col py-10",children:[e.jsx(Ct,{filterProps:t}),e.jsx(ht,{})]})},Bt=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"}));export{st as A,b as B,ot as C,et as L,qe as T,F as a,it as b,l as c,_ as d,ut as e,ct as f,dt as g,T as h,R as i,q as j,Ze as k,Ue as l,Ke as m,Ve as n,We as o,Qe as p,_t as q,tt as r,Bt as s,Re as u};
